(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1111:function(e,t){},1211:function(e,t){},1290:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1290},1334:function(e,t,n){},1336:function(e,t,n){},1338:function(e,t,n){},1340:function(e,t,n){},1365:function(e,t,n){},1370:function(e,t,n){},1372:function(e,t,n){},1374:function(e,t,n){},1376:function(e,t,n){},1378:function(e,t,n){},1380:function(e,t,n){},1382:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),s=n.n(i),c=n(561),o=n(53),d=n(75);window.store=o.a,window.loadUser=d.b;n(581);var l=n(5),p=n.n(l),u=n(12),f=n(40),y=n(41),b=n(43),m=n(42),g=n(44),h=n(146),v=n(29),_=n(19),x={loadUser:function(){var e=Object(u.a)(p.a.mark(function e(t){var n,a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAccounts(t);case 2:return n=e.sent,e.next=5,this.findAlias(n[0]);case 5:return a=e.sent,e.t0=String.fromCharCode,e.t1=String,e.t2=h.a,e.t3=Uint8Array,e.next=12,this.findContracts(n[0]);case 12:return e.t4=e.sent,e.t5=new e.t3(e.t4),e.t6=(0,e.t2)(e.t5),r=e.t0.apply.call(e.t0,e.t1,e.t6),console.log(r),e.next=19,o.a.dispatch(Object(d.b)({alias:a,contract:r,accounts:n,account:n[0]}));case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),loadAccounts:function(){var e=Object(u.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.eth.getAccounts();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),findAlias:function(){var e=Object(u.a)(p.a.mark(function e(t){var n,a,r,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(_.a)(t)+"data.txt",e.prev=1,e.next=4,v.a.readFile(n);case 4:return a=e.sent,r=String.fromCharCode.apply(String,Object(h.a)(new Uint8Array(a))),i=r.split("=")[1],e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return","");case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),findContracts:function(){var e=Object(u.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(_.b)(t)+"contract.txt",e.prev=1,e.next=4,v.a.readFile(n);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return","");case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),getEthereumBalance:function(){var e=Object(u.a)(p.a.mark(function e(t,n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.utils,e.next=3,n.eth.getBalance(t);case 3:return e.t1=e.sent,e.next=6,e.t0.fromWei.call(e.t0,e.t1,"ether");case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},E=n(145),T=n.n(E),D=function(){return new Promise(function(e,t){window.addEventListener("load",Object(u.a)(p.a.mark(function n(){var a,r,i,s;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.ethereum){n.next=13;break}return a=new T.a(window.web3.currentProvider),n.prev=2,n.next=5,window.ethereum.enable();case 5:e(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),t(n.t0);case 11:n.next=14;break;case 13:window.web3?(r=new T.a(window.web3.currentProvider),console.log("Injected web3 detected."),e(r)):(i=new T.a.providers.HttpProvider("http://127.0.0.1:8545"),s=new T.a(i),console.log("No web3 instance injected, using Local web3."),e(s));case 14:case"end":return n.stop()}},n,null,[[2,8]])})))})},S=n(556),I=n(297),w=n(298),k=n(144),O=n(91),N=n(18),C=n(560),A=n(1385),j=n(1388),V=n(1402),P=n(1383),K=n(1386),L=n(1387),F=n(1384),$=n(50),B=n(49),R=n(1394),H=n(1393),M=n(1349),U=(n(1365),function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).state={encryptedInbox:[],uploadInbox:[],downloadPending:[],showInbox:"uploads"},e.user&&(n.readUploads(),n.readInbox()),n}return Object(g.a)(t,e),Object(y.a)(t,[{key:"onDownload",value:function(){var e=Object(u.a)(p.a.mark(function e(t){var n,a,r,i,s,c,o,d,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("uploads"!==this.state.showInbox){e.next=8;break}return n=Object(_.d)(this.props.user.account)+t.filename,e.next=4,v.a.readFile(n);case 4:a=e.sent,this.download(a,t.filename),e.next=26;break;case 8:return this.updateDownloadPendingState(t,!0),r=Object(_.c)(this.props.user.account)+t.sender+"/"+t.filename,e.next=12,v.a.readFile(r);case 12:return i=e.sent,s=this.props.user.contract,c=Object(_.b)(t.sender)+"contract.txt",e.next=17,v.a.readFile(c);case 17:return o=e.sent,e.next=20,O.a.createSharedKey(this.props.web3,this.props.user.account,t.sender.toString(),s,o.toString());case 20:return d=e.sent,e.next=23,k.a.decrypt(d,i);case 23:l=e.sent,this.updateDownloadPendingState(t,!1),this.download(new Uint8Array(l.data),t.filename);case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(e,t){var a=n(1367).lookup(t),r=new Blob([e],{type:a});Object(C.saveAs)(r,t)}},{key:"updateDownloadPendingState",value:function(e,t){this.setState(function(n){var a=n.encryptedInbox,r=a.findIndex(function(t){return t.filename==e.filename&&t.sender===e.sender});return a[r].downloadPending=t,{downloadPendingList:a}})}},{key:"onDelete",value:function(){var e=Object(u.a)(p.a.mark(function e(t){var n,a,r,i,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="/content/"+this.props.user.account+"/uploads/"+t.filename,"encrypted"===this.state.showInbox?(n="/content/"+this.props.ethereumAddress+"/inbox/"+t.sender+"/"+t.filename,a=Object(h.a)(this.state.encryptedInbox),r=a.indexOf(t),a.splice(r,1),this.setState({encryptedInbox:a})):(i=Object(h.a)(this.state.uploadInbox),s=i.indexOf(t),i.splice(s,1),this.setState({uploadInbox:i})),e.next=4,v.a.deleteFile(n,function(e,t){e&&console.log("could not remove file "+e)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createData",value:function(e,t){return{sender:e,filename:t,downloadPending:!1}}},{key:"readUploads",value:function(){var e=Object(u.a)(p.a.mark(function e(){var t,n,a,r,i,s,c,o,d;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({uploadInbox:[]}),t=[],n=Object(_.d)(this.props.user.account),e.next=5,v.a.readDirectory(n);case 5:for(a=e.sent,r=!0,i=!1,s=void 0,e.prev=9,c=a[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)d=o.value,t.push(this.createData("upload",d.name));e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),i=!0,s=e.t0;case 17:e.prev=17,e.prev=18,r||null==c.return||c.return();case 20:if(e.prev=20,!i){e.next=23;break}throw s;case 23:return e.finish(20);case 24:return e.finish(17);case 25:this.setState({uploadInbox:t});case 26:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return function(){return e.apply(this,arguments)}}()},{key:"readInbox",value:function(){var e=Object(u.a)(p.a.mark(function e(){var t,n,a,r,i,s,c,o,d,l,u,f,y,b,m,g,h;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.user.account,this.setState({encryptedInbox:[]}),t=[],n=Object(_.c)(this.props.user.account),e.next=6,v.a.readDirectory(n);case 6:a=e.sent,r=!0,i=!1,s=void 0,e.prev=10,c=a[Symbol.iterator]();case 12:if(r=(o=c.next()).done){e.next=40;break}return d=o.value,l=n+d.name,e.next=17,v.a.readDirectory(l);case 17:for(u=e.sent,f=!0,y=!1,b=void 0,e.prev=21,m=u[Symbol.iterator]();!(f=(g=m.next()).done);f=!0)h=g.value,t.push(this.createData(d.name,h.name));e.next=29;break;case 25:e.prev=25,e.t0=e.catch(21),y=!0,b=e.t0;case 29:e.prev=29,e.prev=30,f||null==m.return||m.return();case 32:if(e.prev=32,!y){e.next=35;break}throw b;case 35:return e.finish(32);case 36:return e.finish(29);case 37:r=!0,e.next=12;break;case 40:e.next=46;break;case 42:e.prev=42,e.t1=e.catch(10),i=!0,s=e.t1;case 46:e.prev=46,e.prev=47,r||null==c.return||c.return();case 49:if(e.prev=49,!i){e.next=52;break}throw s;case 52:return e.finish(49);case 53:return e.finish(46);case 54:this.setState({encryptedInbox:t});case 55:case"end":return e.stop()}},e,this,[[10,42,46,54],[21,25,29,37],[30,,32,36],[47,,49,53]])}));return function(){return e.apply(this,arguments)}}()},{key:"onToggleFileView",value:function(){var e=Object(u.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("uploads"!==(n=this.state.showInbox)||"inbox"!==t.target.id){e.next=7;break}return this.setState({showInbox:"encrypted"}),e.next=5,this.readInbox(this.props.ethereumAddress);case 5:e.next=11;break;case 7:if("encrypted"!==n||"uploads"!==t.target.id){e.next=11;break}return this.setState({showInbox:"uploads"}),e.next=11,this.readUploads(this.props.ethereumAddress);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.user?r.a.createElement("div",null,r.a.createElement("div",{className:"button-container"},r.a.createElement(H.a,null,r.a.createElement(M.a,{className:"select-view-button",id:"uploads",onClick:this.onToggleFileView.bind(this)},r.a.createElement(B.a,{icon:$.i}),"Uploads (",this.state.uploadInbox.length,")"),r.a.createElement(M.a,{className:"select-view-button",id:"inbox",onClick:this.onToggleFileView.bind(this)},r.a.createElement(B.a,{icon:$.e}),"Inbox (",this.state.encryptedInbox.length,")"))),r.a.createElement(N.b,{condition:"encrypted"===this.state.showInbox},r.a.createElement("div",{className:"inbox-container"},r.a.createElement("p",null,"Inbox"),r.a.createElement("div",{className:"inbox-list-container"},r.a.createElement(N.b,{condition:0===this.state.encryptedInbox.length},"Inbox is empty",r.a.createElement(N.a,null,r.a.createElement(P.a,{component:F.a},r.a.createElement(A.a,{className:"inbox-table","aria-label":"Inbox"},r.a.createElement(K.a,null,r.a.createElement(L.a,null,r.a.createElement(V.a,null,"Sender"),r.a.createElement(V.a,null,"File name"),r.a.createElement(V.a,null,"Download"),r.a.createElement(V.a,null,"Delete"))),r.a.createElement(j.a,null,this.state.encryptedInbox.map(function(t){return r.a.createElement(L.a,{key:t.sender},r.a.createElement(V.a,null,t.sender),r.a.createElement(V.a,null,t.filename),r.a.createElement(V.a,null,r.a.createElement(N.b,{condition:!0===t.downloadPending},r.a.createElement(R.a,{color:"primary"}),r.a.createElement(N.a,null,r.a.createElement("button",{className:"download button",onClick:function(){return e.onDownload(t)}},r.a.createElement(B.a,{icon:$.c}))))),r.a.createElement(V.a,null,r.a.createElement("button",{className:"delete button",onClick:function(){return e.onDelete(t)}},r.a.createElement(B.a,{icon:$.h}))))}))))))))),r.a.createElement(N.b,{condition:"uploads"===this.state.showInbox},r.a.createElement("div",{className:"inbox-container"},r.a.createElement("div",{className:"inbox-list-container"},r.a.createElement(N.b,{condition:0===this.state.uploadInbox.length},"You have not uploaded any files.",r.a.createElement(N.a,null,r.a.createElement(P.a,{component:F.a},r.a.createElement(A.a,{className:"inbox-table","aria-label":"Inbox"},r.a.createElement(K.a,null,r.a.createElement(L.a,null,r.a.createElement(V.a,null,"File name"),r.a.createElement(V.a,null,"Download"),r.a.createElement(V.a,null,"Delete"))),r.a.createElement(j.a,null,this.state.uploadInbox.map(function(t){return r.a.createElement(L.a,{key:t.sender},r.a.createElement(V.a,null,t.filename),r.a.createElement(V.a,null,r.a.createElement("button",{className:"download button",onClick:function(){return e.onDownload(t)}},r.a.createElement(B.a,{icon:$.c}))),r.a.createElement(V.a,null,r.a.createElement("button",{className:"delete button",onClick:function(){return e.onDelete(t)}},r.a.createElement(B.a,{icon:$.h}))))})))))))))):r.a.createElement("div",null,"Loading......")}}]),t}(r.a.Component)),q=n(303),z=n.n(q),Q=n(1395),G=n(1396),J=n(1397),X=n(1398),W=n(1399),Y=n(1403),Z=n(1390),ee=n(1391),te=n(1392),ne=(n(1370),function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1,deployingContract:!1},n}return Object(g.a)(t,e),Object(y.a)(t,[{key:"toggle",value:function(){this.setState({modal:!0})}},{key:"confirm",value:function(){var e=Object(u.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({modal:!1,deployingContract:!0}),e.next=3,this.props.onConfirm();case 3:this.setState({deployingContract:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this.setState({modal:!1})}},{key:"render",value:function(){return this.toggle=this.toggle.bind(this),this.cancel=this.cancel.bind(this),r.a.createElement("div",{className:"contracts-container"},r.a.createElement("div",null,r.a.createElement(Q.a,{className:"contract-card"},r.a.createElement(G.a,{className:"contract-card-img",width:"50%",src:this.props.headerImage,alt:this.props.contractName}),r.a.createElement(J.a,null,r.a.createElement(X.a,null,this.props.contractName),r.a.createElement(W.a,null,this.props.cardText),r.a.createElement(N.b,{condition:this.state.deployingContract},r.a.createElement("span",null,"Deploying contract"),r.a.createElement(R.a,{type:"grow",color:"primary"}),r.a.createElement(N.a,null,r.a.createElement(N.b,{condition:!1===this.props.contractDeployed},r.a.createElement(M.a,{color:"primary",onClick:this.toggle},"Submit")))),r.a.createElement(Y.a,{isOpen:this.state.modal,fade:!1,toggle:this.toggle,className:"modal-container"},r.a.createElement(Z.a,{toggle:this.toggle},"Deploy Contract"),r.a.createElement(ee.a,null,"This will cost ethereum in order to deploy the contract."),r.a.createElement(te.a,{className:"modal-footer-container"},r.a.createElement(M.a,{className:"confirm action-button",onClick:this.confirm.bind(this),color:"success"},"Confirm"),r.a.createElement(M.a,{className:"cancel action-button",onClick:this.cancel,color:"danger"},"Cancel")))))))}}]),t}(r.a.Component)),ae=(n(1372),function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).contractCardText="Generate encryption keys and store them in a smart contract deployed to the Ethereum blockchain.This contract then can then be applied to perform assymetric encryption, and send an encrypted file to another user.",n.state={contractDeployed:!1},e.user&&e.user.contract&&(n.contractCardText="Contract deployed at "+e.user.contract,n.setState({contractDeployed:!0})),n}return Object(g.a)(t,e),Object(y.a)(t,[{key:"generateEncryptionKeysContract",value:function(){var e=Object(u.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.generateKeys(this.props.web3,this.props.user.account);case 2:return t=e.sent,e.next=5,this.props.contractHandler(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.user?r.a.createElement("div",{className:"contracts-container"},r.a.createElement("div",{className:"contracts-header"},"Contracts"),r.a.createElement(N.b,{condition:""===this.props.user.contract},r.a.createElement("div",{className:"card-container"},r.a.createElement(ne,{headerImage:z.a,contractName:"Encryption Keys Contract",cardText:this.contractCardText,onConfirm:this.generateEncryptionKeysContract.bind(this),contractDeployed:this.state.contractDeployed})),r.a.createElement(N.a,null,r.a.createElement("div",{className:"card-container"},r.a.createElement(ne,{headerImage:z.a,contractName:"Encryption Keys Contract",cardText:this.contractCardText,contract:this.props.user.contract,user:this.props.user}))))):r.a.createElement("div",null,"Loading...")}}]),t}(r.a.Component));s.a.render(r.a.createElement(ne,null),document.getElementById("root"));var re=ae,ie=n(562),se=n(1389),ce=(n(1374),function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).accountsSelector=[],n.state={showAlert:!1,user:null},n}return Object(g.a)(t,e),Object(y.a)(t,[{key:"componentWillMount",value:function(){var e=Object(u.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadAccounts();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadAccounts",value:function(){if(this.props.user&&this.props.user.accounts){var e=1,t=!0,n=!1,a=void 0;try{for(var r,i=this.props.user.accounts[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;this.accountsSelector.push({label:s,value:e}),e+=1}}catch(c){n=!0,a=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}this.props.user.accounts.length}}},{key:"handleSelectAccount",value:function(e){alert("not yet implemented")}},{key:"copyText",value:function(){navigator.clipboard.writeText(this.props.user.account),this.setState({showAlert:!0}),setTimeout(function(){this.setState({showAlert:!1})}.bind(this),5e3)}},{key:"render",value:function(){return this.props.user?r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"header header-container-main"},r.a.createElement("div",{className:"left app-name"},"IRIS"),r.a.createElement("div",{className:"header-container-main-details"},r.a.createElement("div",{className:"hamburger-container"},r.a.createElement(B.a,{icon:$.a})),r.a.createElement("div",{className:"alias-container"},r.a.createElement("p",null,this.props.user.alias)))),r.a.createElement("div",{className:"header header-container-secondary"},r.a.createElement("div",{className:"accounts-container"},r.a.createElement("div",{className:"account-selector-container"},r.a.createElement(N.b,{condition:1===this.props.user.accounts.length},this.props.user.accounts[0],r.a.createElement(N.a,null,r.a.createElement(ie.a,{className:"dropdown",options:this.props.accountsSelector,GenerateKeys:!0,onChange:this.handleSelectAccount.bind(this)})))),r.a.createElement("div",{className:"copy-container"},r.a.createElement(B.a,{className:"copy",onClick:this.copyText.bind(this),icon:$.b}))),r.a.createElement(N.b,{condition:this.props.user.contract},r.a.createElement("div",{className:"contract-icon-container"},r.a.createElement(B.a,{className:"contract-icon",icon:$.f}))),r.a.createElement(se.a,{className:"copy-alert",color:"info",isOpen:this.state.showAlert},r.a.createElement("span",null,"Copied!")))):r.a.createElement("div",null,"LOADING")}}]),t}(r.a.Component)),oe=(n(1376),function(e){function t(e){return Object(f.a)(this,t),Object(b.a)(this,Object(m.a)(t).call(this,e))}return Object(g.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement("div",{className:"sidebar-button-container"},r.a.createElement("div",{className:"sidebar-item"},r.a.createElement(B.a,{className:"sidebar-icon",icon:$.i}),r.a.createElement("input",{type:"button",id:_.e.UPLOAD,value:_.e.UPLOAD,onClick:this.props.toggleView})),r.a.createElement("div",{className:"sidebar-item"},r.a.createElement(B.a,{className:"sidebar-icon",icon:$.e}),r.a.createElement("input",{type:"button",id:_.e.INBOX,value:_.e.INBOX,onClick:this.props.toggleView})),r.a.createElement("div",{className:"sidebar-item"},r.a.createElement(B.a,{className:"sidebar-icon",icon:$.d}),r.a.createElement("input",{type:"button",id:_.e.CONTRACTS,value:_.e.CONTRACTS,onClick:this.props.toggleView}))),r.a.createElement("div",{className:"footer-container"},r.a.createElement("span",null,"driemworks 2020")))}}]),t}(r.a.Component)),de=(n(1378),function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).accountsSelector=[],n.componentDidMount=Object(u.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,n.setState({web3:t}),t.eth.net.isListening().then(function(){return n.setState({isWeb3Connected:!0})}).catch(function(e){return console.log("web3 not connected")}),e.next=7,x.loadUser(t);case 7:case"end":return e.stop()}},e)})),n.state={web3:null,isWeb3Connected:!1,selectedView:_.e.INBOX},o.a.subscribe(function(){var e=o.a.getState().user;n.setState({user:e}),""===e.alias&&n.setState({selectedView:_.e.ALIAS})}),n}return Object(g.a)(t,e),Object(y.a)(t,[{key:"makeDirIfNotExists",value:function(){}},{key:"aliasHandler",value:function(e){var t=this.state.user;t.alias=e,o.a.dispatch(Object(d.b)(t)),this.setState({selectedView:_.e.INBOX})}},{key:"contractAddressHandler",value:function(e){var t=this.state.user;t.contract=e,o.a.dispatch(Object(d.b)(t))}},{key:"toggleView",value:function(e){this.setState({selectedView:e.target.id})}},{key:"renderView",value:function(){var e=r.a.createElement("div",null,"No view selected");return this.state.selectedView===_.e.UPLOAD?e=r.a.createElement(w.a,{web3:this.state.web3,user:this.state.user}):this.state.selectedView===_.e.INBOX?e=r.a.createElement(U,{web3:this.state.web3,user:this.state.user}):this.state.selectedView===_.e.CONTRACTS?e=r.a.createElement(re,{contractHandler:this.contractAddressHandler.bind(this),web3:this.state.web3,user:this.state.user}):this.state.selectedView===_.e.ALIAS&&(e=r.a.createElement(I.a,{aliasHandler:this.aliasHandler.bind(this),user:this.state.user})),e}},{key:"render",value:function(){this.toggleView=this.toggleView.bind(this);var e=this.renderView();return this.state.user?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header-container"},r.a.createElement(ce,{user:this.state.user})),r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"sidebard-container"},r.a.createElement(oe,{toggleView:this.toggleView})),r.a.createElement("div",{className:"render-view-container"},e))):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component));s.a.render(r.a.createElement(S.a,null),document.getElementById("root")),s.a.render(r.a.createElement(w.a,null),document.getElementById("root")),s.a.render(r.a.createElement(U,null),document.getElementById("root")),s.a.render(r.a.createElement(I.a,null),document.getElementById("root")),s.a.render(r.a.createElement(re,null),document.getElementById("root")),s.a.render(r.a.createElement(ce,null),document.getElementById("root")),s.a.render(r.a.createElement(oe,null),document.getElementById("root"));var le=de;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1380);s.a.render(r.a.createElement(c.a,{store:o.a},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},144:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(33),r=n(45),i=(n(173),n(174),{newNonce:function(){return Object(a.randomBytes)(a.box.nonceLength)},generateKeyPair:function(){return a.box.keyPair()},encrypt:function(e,t,n){var i=this.newNonce(),s=Object(r.decodeUTF8)(JSON.stringify(t)),c=n?Object(a.box)(s,i,n,e):a.box.after(s,i,e),o=new Uint8Array(i.length+c.length);return o.set(i),o.set(c,i.length),Object(r.encodeBase64)(o)},decrypt:function(e,t,n){var i=Object(r.decodeBase64)(t),s=i.slice(0,a.box.nonceLength),c=i.slice(a.box.nonceLength,t.length),o=n?a.box.open(c,s,n,e):a.box.open.after(c,s,e);if(!o)throw new Error("Could not decrypt message.");var d=Object(r.encodeUTF8)(o);return JSON.parse(d)}})},174:function(e){e.exports={contractName:"EncryptionKeys",abi:[{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_publicKey",type:"string"},{name:"_privateKey",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"publicKeyRetrieved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"privateKeyRetrieved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"inboxArray",type:"string[]"}],name:"getInbox",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event"},{constant:!1,inputs:[],name:"getPublicKey",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"getPrivateKey",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"ipfsHash",type:"string"}],name:"addToInbox",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"readInbox",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],metadata:'{"compiler":{"version":"0.5.8+commit.23d335f2"},"language":"Solidity","output":{"abi":[{"constant":false,"inputs":[],"name":"getPublicKey","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"getPrivateKey","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"readInbox","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"ipfsHash","type":"string"}],"name":"addToInbox","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_publicKey","type":"string"},{"name":"_privateKey","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"key","type":"string"}],"name":"publicKeyRetrieved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"key","type":"string"}],"name":"privateKeyRetrieved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"inboxArray","type":"string[]"}],"name":"getInbox","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"nodeHash","type":"address"}],"name":"notAuthorized","type":"event"}],"devdoc":{"methods":{}},"userdoc":{"methods":{}}},"settings":{"compilationTarget":{"/home/tony/work/ipfs-ethereum-demo/ipfs-ether-demo/contracts/EncryptionKeys.sol":"EncryptionKeys"},"evmVersion":"petersburg","libraries":{},"optimizer":{"enabled":false,"runs":200},"remappings":[]},"sources":{"/home/tony/work/ipfs-ethereum-demo/ipfs-ether-demo/contracts/EncryptionKeys.sol":{"keccak256":"0xbd9e855307bb613fe9ddb3f8e232fc55754181ff38c653c9976459298c6e64c3","urls":["bzzr://34e0a58ba4b9a248c71c958e87bd093971c7b6bff49aa039e67711be4a1f02f8"]}},"version":1}',bytecode:"0x60806040523480156200001157600080fd5b5060405162000a1f38038062000a1f8339810180604052620000379190810190620001bd565b81600290805190602001906200004f929190620000b2565b50806003908051906020019062000068929190620000b2565b5033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050620002c1565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620000f557805160ff191683800117855562000126565b8280016001018555821562000126579182015b828111156200012557825182559160200191906001019062000108565b5b50905062000135919062000139565b5090565b6200015e91905b808211156200015a57600081600090555060010162000140565b5090565b90565b600082601f8301126200017357600080fd5b81516200018a62000184826200025e565b62000230565b91508082526020830160208301858383011115620001a757600080fd5b620001b48382846200028b565b50505092915050565b60008060408385031215620001d157600080fd5b600083015167ffffffffffffffff811115620001ec57600080fd5b620001fa8582860162000161565b925050602083015167ffffffffffffffff8111156200021857600080fd5b620002268582860162000161565b9150509250929050565b6000604051905081810181811067ffffffffffffffff821117156200025457600080fd5b8060405250919050565b600067ffffffffffffffff8211156200027657600080fd5b601f19601f8301169050602081019050919050565b60005b83811015620002ab5780820151818401526020810190506200028e565b83811115620002bb576000848401525b50505050565b61074e80620002d16000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80632e3344521461005c57806361f0b25f14610066578063724c0c9e146100705780638da5cb5b1461007a578063f0d62fad14610098575b600080fd5b6100646100b4565b005b61006e6100ee565b005b6100786101bb565b005b6100826101f5565b60405161008f919061055b565b60405180910390f35b6100b260048036036100ad9190810190610356565b61021b565b005b7f9ef7a316a8936b6ced635b4e03c0e449091528b82956eb61bed11c74027b7cb560026040516100e491906105b3565b60405180910390a1565b3373ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415610181577fed37b7ef047c597254ab115cd0d400209290e2af8fa2ec4830e394e9383e5ca2600360405161017491906105b3565b60405180910390a16101b9565b7f3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d336040516101b09190610576565b60405180910390a15b565b7fe6de9156e19084a0411456d12e6d0e0dacf577e4855e0f250923aff10a63655860006040516101eb9190610591565b60405180910390a1565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600081908060018154018082558091505090600182039060005260206000200160009091929091909150908051906020019061025892919061025d565b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061029e57805160ff19168380011785556102cc565b828001600101855582156102cc579182015b828111156102cb5782518255916020019190600101906102b0565b5b5090506102d991906102dd565b5090565b6102ff91905b808211156102fb5760008160009055506001016102e3565b5090565b90565b600082601f83011261031357600080fd5b813561032661032182610602565b6105d5565b9150808252602083016020830185838301111561034257600080fd5b61034d838284610705565b50505092915050565b60006020828403121561036857600080fd5b600082013567ffffffffffffffff81111561038257600080fd5b61038e84828501610302565b91505092915050565b60006103a3838361043d565b905092915050565b6103b4816106cf565b82525050565b6103c38161069d565b82525050565b60006103d482610652565b6103de818561066a565b9350836020820285016103f08561062e565b8060005b8581101561042b5784840389528161040c8582610397565b94506104178361065d565b925060208a019950506001810190506103f4565b50829750879550505050505092915050565b60008154600181166000811461045a5760018114610480576104c4565b607f600283041661046b818761067b565b955060ff1983168652602086019350506104c4565b6002820461048e818761067b565b955061049985610640565b60005b828110156104bb5781548189015260018201915060208101905061049c565b80880195505050505b505092915050565b6000815460018116600081146104e9576001811461050f57610553565b607f60028304166104fa818761068c565b955060ff198316865260208601935050610553565b6002820461051d818761068c565b955061052885610640565b60005b8281101561054a5781548189015260018201915060208101905061052b565b80880195505050505b505092915050565b600060208201905061057060008301846103ba565b92915050565b600060208201905061058b60008301846103ab565b92915050565b600060208201905081810360008301526105ab81846103c9565b905092915050565b600060208201905081810360008301526105cd81846104cc565b905092915050565b6000604051905081810181811067ffffffffffffffff821117156105f857600080fd5b8060405250919050565b600067ffffffffffffffff82111561061957600080fd5b601f19601f8301169050602081019050919050565b60008160005260206000209050919050565b60008160005260206000209050919050565b600081549050919050565b6000600182019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b60006106a8826106af565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106da826106e1565b9050919050565b60006106ec826106f3565b9050919050565b60006106fe826106af565b9050919050565b8281833760008383015250505056fea265627a7a72305820e7ee158547656a47b0942ce47f79bab083b0c1f2c27931ba8a82c9a72ced3a596c6578706572696d656e74616cf50037",deployedBytecode:"0x608060405234801561001057600080fd5b50600436106100575760003560e01c80632e3344521461005c57806361f0b25f14610066578063724c0c9e146100705780638da5cb5b1461007a578063f0d62fad14610098575b600080fd5b6100646100b4565b005b61006e6100ee565b005b6100786101bb565b005b6100826101f5565b60405161008f919061055b565b60405180910390f35b6100b260048036036100ad9190810190610356565b61021b565b005b7f9ef7a316a8936b6ced635b4e03c0e449091528b82956eb61bed11c74027b7cb560026040516100e491906105b3565b60405180910390a1565b3373ffffffffffffffffffffffffffffffffffffffff16600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415610181577fed37b7ef047c597254ab115cd0d400209290e2af8fa2ec4830e394e9383e5ca2600360405161017491906105b3565b60405180910390a16101b9565b7f3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d336040516101b09190610576565b60405180910390a15b565b7fe6de9156e19084a0411456d12e6d0e0dacf577e4855e0f250923aff10a63655860006040516101eb9190610591565b60405180910390a1565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600081908060018154018082558091505090600182039060005260206000200160009091929091909150908051906020019061025892919061025d565b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061029e57805160ff19168380011785556102cc565b828001600101855582156102cc579182015b828111156102cb5782518255916020019190600101906102b0565b5b5090506102d991906102dd565b5090565b6102ff91905b808211156102fb5760008160009055506001016102e3565b5090565b90565b600082601f83011261031357600080fd5b813561032661032182610602565b6105d5565b9150808252602083016020830185838301111561034257600080fd5b61034d838284610705565b50505092915050565b60006020828403121561036857600080fd5b600082013567ffffffffffffffff81111561038257600080fd5b61038e84828501610302565b91505092915050565b60006103a3838361043d565b905092915050565b6103b4816106cf565b82525050565b6103c38161069d565b82525050565b60006103d482610652565b6103de818561066a565b9350836020820285016103f08561062e565b8060005b8581101561042b5784840389528161040c8582610397565b94506104178361065d565b925060208a019950506001810190506103f4565b50829750879550505050505092915050565b60008154600181166000811461045a5760018114610480576104c4565b607f600283041661046b818761067b565b955060ff1983168652602086019350506104c4565b6002820461048e818761067b565b955061049985610640565b60005b828110156104bb5781548189015260018201915060208101905061049c565b80880195505050505b505092915050565b6000815460018116600081146104e9576001811461050f57610553565b607f60028304166104fa818761068c565b955060ff198316865260208601935050610553565b6002820461051d818761068c565b955061052885610640565b60005b8281101561054a5781548189015260018201915060208101905061052b565b80880195505050505b505092915050565b600060208201905061057060008301846103ba565b92915050565b600060208201905061058b60008301846103ab565b92915050565b600060208201905081810360008301526105ab81846103c9565b905092915050565b600060208201905081810360008301526105cd81846104cc565b905092915050565b6000604051905081810181811067ffffffffffffffff821117156105f857600080fd5b8060405250919050565b600067ffffffffffffffff82111561061957600080fd5b601f19601f8301169050602081019050919050565b60008160005260206000209050919050565b60008160005260206000209050919050565b600081549050919050565b6000600182019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b60006106a8826106af565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106da826106e1565b9050919050565b60006106ec826106f3565b9050919050565b60006106fe826106af565b9050919050565b8281833760008383015250505056fea265627a7a72305820e7ee158547656a47b0942ce47f79bab083b0c1f2c27931ba8a82c9a72ced3a596c6578706572696d656e74616cf50037",sourceMap:"61:1023:0:-;;;445:174;8:9:-1;5:2;;;30:1;27;20:12;5:2;445:174:0;;;;;;;;;;;;;;;;;;;;;;;;540:10;528:9;:22;;;;;;;;;;;;:::i;:::-;;573:11;560:10;:24;;;;;;;;;;;;:::i;:::-;;602:10;594:5;;:18;;;;;;;;;;;;;;;;;;445:174;;61:1023;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;6:444:-1:-;;119:3;112:4;104:6;100:17;96:27;86:2;;137:1;134;127:12;86:2;167:6;161:13;189:65;204:49;246:6;204:49;;;189:65;;;180:74;;274:6;267:5;260:21;310:4;302:6;298:17;343:4;336:5;332:16;378:3;369:6;364:3;360:16;357:25;354:2;;;395:1;392;385:12;354:2;405:39;437:6;432:3;427;405:39;;;79:371;;;;;;;;458:597;;;610:2;598:9;589:7;585:23;581:32;578:2;;;626:1;623;616:12;578:2;682:1;671:9;667:17;661:24;705:18;697:6;694:30;691:2;;;737:1;734;727:12;691:2;757:74;823:7;814:6;803:9;799:22;757:74;;;747:84;;640:197;889:2;878:9;874:18;868:25;913:18;905:6;902:30;899:2;;;945:1;942;935:12;899:2;965:74;1031:7;1022:6;1011:9;1007:22;965:74;;;955:84;;847:198;572:483;;;;;;1062:256;;1124:2;1118:9;1108:19;;1162:4;1154:6;1150:17;1261:6;1249:10;1246:22;1225:18;1213:10;1210:34;1207:62;1204:2;;;1282:1;1279;1272:12;1204:2;1302:10;1298:2;1291:22;1102:216;;;;;1325:259;;1469:18;1461:6;1458:30;1455:2;;;1501:1;1498;1491:12;1455:2;1545:4;1541:9;1534:4;1526:6;1522:17;1518:33;1510:41;;1574:4;1568;1564:15;1556:23;;1392:192;;;;1592:268;1657:1;1664:101;1678:6;1675:1;1672:13;1664:101;;;1754:1;1749:3;1745:11;1739:18;1735:1;1730:3;1726:11;1719:39;1700:2;1697:1;1693:10;1688:15;;1664:101;;;1780:6;1777:1;1774:13;1771:2;;;1845:1;1836:6;1831:3;1827:16;1820:27;1771:2;1641:219;;;;;61:1023:0;;;;;;;",deployedSourceMap:"61:1023:0:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;61:1023:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;625:82;;;:::i;:::-;;713:195;;;:::i;:::-;;1012:69;;;:::i;:::-;;156:20;;;:::i;:::-;;;;;;;;;;;;;;;;914:92;;;;;;;;;;;;;;;;:::i;:::-;;625:82;671:29;690:9;671:29;;;;;;;;;;;;;;;625:82::o;713:195::-;768:10;759:19;;:5;;;;;;;;;;;:19;;;755:147;;;799:31;819:10;799:31;;;;;;;;;;;;;;;755:147;;;866:25;880:10;866:25;;;;;;;;;;;;;;;755:147;713:195::o;1012:69::-;1055:19;1064:9;1055:19;;;;;;;;;;;;;;;1012:69::o;156:20::-;;;;;;;;;;;;;:::o;914:92::-;975:9;990:8;975:24;;39:1:-1;33:3;27:10;23:18;57:10;52:3;45:23;79:10;72:17;;0:93;975:24:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;914:92;:::o;61:1023::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;6:442:-1:-;;108:3;101:4;93:6;89:17;85:27;75:2;;126:1;123;116:12;75:2;163:6;150:20;185:65;200:49;242:6;200:49;;;185:65;;;176:74;;270:6;263:5;256:21;306:4;298:6;294:17;339:4;332:5;328:16;374:3;365:6;360:3;356:16;353:25;350:2;;;391:1;388;381:12;350:2;401:41;435:6;430:3;425;401:41;;;68:380;;;;;;;;456:347;;570:2;558:9;549:7;545:23;541:32;538:2;;;586:1;583;576:12;538:2;649:1;638:9;634:17;621:31;672:18;664:6;661:30;658:2;;;704:1;701;694:12;658:2;724:63;779:7;770:6;759:9;755:22;724:63;;;714:73;;600:193;532:271;;;;;811:183;;925:63;984:3;976:6;925:63;;;911:77;;904:90;;;;;1002:142;1093:45;1132:5;1093:45;;;1088:3;1081:58;1075:69;;;1151:113;1234:24;1252:5;1234:24;;;1229:3;1222:37;1216:48;;;1300:882;;1455:58;1507:5;1455:58;;;1526:92;1611:6;1606:3;1526:92;;;1519:99;;1641:3;1683:4;1675:6;1671:17;1666:3;1662:27;1710:60;1764:5;1710:60;;;1790:7;1818:1;1803:340;1828:6;1825:1;1822:13;1803:340;;;1890:9;1884:4;1880:20;1875:3;1868:33;1929:6;1950:77;2022:4;2007:13;1950:77;;;1942:85;;2044:64;2101:6;2044:64;;;2034:74;;2131:4;2126:3;2122:14;2115:21;;1860:283;1850:1;1847;1843:9;1838:14;;1803:340;;;1807:14;2156:4;2149:11;;2173:3;2166:10;;1434:748;;;;;;;;;;2215:793;;2324:5;2318:12;2358:1;2347:9;2343:17;2371:1;2366:238;;;;2615:1;2610:392;;;;2336:666;;2366:238;2444:4;2440:1;2429:9;2425:17;2421:28;2463:61;2517:6;2512:3;2463:61;;;2456:68;;2562:4;2558:9;2547;2543:25;2538:3;2531:38;2592:4;2587:3;2583:14;2576:21;;2373:231;2366:238;;2610:392;2679:1;2668:9;2664:17;2695:61;2749:6;2744:3;2695:61;;;2688:68;;2778:38;2810:5;2778:38;;;2832:1;2840:130;2854:6;2851:1;2848:13;2840:130;;;2919:7;2913:14;2909:1;2904:3;2900:11;2893:35;2960:1;2951:7;2947:15;2936:26;;2876:4;2873:1;2869:12;2864:17;;2840:130;;;2993:1;2988:3;2984:11;2977:18;;2617:385;;;2336:666;;2294:714;;;;;;3041:823;;3160:5;3154:12;3194:1;3183:9;3179:17;3207:1;3202:248;;;;3461:1;3456:402;;;;3172:686;;3202:248;3280:4;3276:1;3265:9;3261:17;3257:28;3299:71;3363:6;3358:3;3299:71;;;3292:78;;3408:4;3404:9;3393;3389:25;3384:3;3377:38;3438:4;3433:3;3429:14;3422:21;;3209:241;3202:248;;3456:402;3525:1;3514:9;3510:17;3541:71;3605:6;3600:3;3541:71;;;3534:78;;3634:38;3666:5;3634:38;;;3688:1;3696:130;3710:6;3707:1;3704:13;3696:130;;;3775:7;3769:14;3765:1;3760:3;3756:11;3749:35;3816:1;3807:7;3803:15;3792:26;;3732:4;3729:1;3725:12;3720:17;;3696:130;;;3849:1;3844:3;3840:11;3833:18;;3463:395;;;3172:686;;3130:734;;;;;;3872:213;;3990:2;3979:9;3975:18;3967:26;;4004:71;4072:1;4061:9;4057:17;4048:6;4004:71;;;3961:124;;;;;4092:229;;4218:2;4207:9;4203:18;4195:26;;4232:79;4308:1;4297:9;4293:17;4284:6;4232:79;;;4189:132;;;;;4328:381;;4506:2;4495:9;4491:18;4483:26;;4556:9;4550:4;4546:20;4542:1;4531:9;4527:17;4520:47;4581:118;4694:4;4685:6;4581:118;;;4573:126;;4477:232;;;;;4716:295;;4851:2;4840:9;4836:18;4828:26;;4901:9;4895:4;4891:20;4887:1;4876:9;4872:17;4865:47;4926:75;4996:4;4987:6;4926:75;;;4918:83;;4822:189;;;;;5018:256;;5080:2;5074:9;5064:19;;5118:4;5110:6;5106:17;5217:6;5205:10;5202:22;5181:18;5169:10;5166:34;5163:62;5160:2;;;5238:1;5235;5228:12;5160:2;5258:10;5254:2;5247:22;5058:216;;;;;5281:259;;5425:18;5417:6;5414:30;5411:2;;;5457:1;5454;5447:12;5411:2;5501:4;5497:9;5490:4;5482:6;5478:17;5474:33;5466:41;;5530:4;5524;5520:15;5512:23;;5348:192;;;;5550:151;;5650:4;5647:1;5640:15;5688:4;5685:1;5675:18;5663:30;;5631:70;;;;5714:129;;5792:4;5789:1;5782:15;5830:4;5827:1;5817:18;5805:30;;5773:70;;;;5853:111;;5953:5;5947:12;5937:22;;5931:33;;;;5973:123;;6087:1;6081:4;6077:12;6065:24;;6057:39;;;;6106:184;;6242:6;6237:3;6230:19;6279:4;6274:3;6270:14;6255:29;;6223:67;;;;;6299:153;;6404:6;6399:3;6392:19;6441:4;6436:3;6432:14;6417:29;;6385:67;;;;;6461:163;;6576:6;6571:3;6564:19;6613:4;6608:3;6604:14;6589:29;;6557:67;;;;;6632:91;;6694:24;6712:5;6694:24;;;6683:35;;6677:46;;;;6730:121;;6803:42;6796:5;6792:54;6781:65;;6775:76;;;;6858:129;;6945:37;6976:5;6945:37;;;6932:50;;6926:61;;;;6994:121;;7073:37;7104:5;7073:37;;;7060:50;;7054:61;;;;7122:108;;7201:24;7219:5;7201:24;;;7188:37;;7182:48;;;;7238:145;7319:6;7314:3;7309;7296:30;7375:1;7366:6;7361:3;7357:16;7350:27;7289:94;;;",source:" pragma solidity ^0.5.8;\n pragma experimental ABIEncoderV2;\n\ncontract EncryptionKeys {\n    // Structures\n\n    string[] ipfsInbox;\n\n        // variables\n    address public owner;\n    string private publicKey;\n    string private privateKey;\n\n    // events\n    event publicKeyRetrieved(string key);\n    event privateKeyRetrieved(string key);\n    event getInbox(string[] inboxArray);\n    event notAuthorized(address nodeHash);\n\n    // functions\n    constructor (string memory _publicKey, string memory _privateKey) public {\n        publicKey = _publicKey;\n        privateKey = _privateKey;\n        owner = msg.sender;\n    }\n\n    function getPublicKey() public {\n        emit publicKeyRetrieved(publicKey);\n    }\n\n    function getPrivateKey() public {\n        if (owner == msg.sender) {\n            emit privateKeyRetrieved(privateKey);\n        } else {\n            emit notAuthorized(msg.sender);\n        }\n    }\n\n    function addToInbox(string memory ipfsHash) public {\n        ipfsInbox.push(ipfsHash);\n    }\n\n    function readInbox() public {\n        emit getInbox(ipfsInbox);\n    }\n\n}",sourcePath:"/home/tony/work/ipfs-ethereum-demo/ipfs-ether-demo/contracts/EncryptionKeys.sol",ast:{absolutePath:"/home/tony/work/ipfs-ethereum-demo/ipfs-ether-demo/contracts/EncryptionKeys.sol",exportedSymbols:{EncryptionKeys:[98]},id:99,nodeType:"SourceUnit",nodes:[{id:1,literals:["solidity","^","0.5",".8"],nodeType:"PragmaDirective",src:"1:23:0"},{id:2,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"26:33:0"},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:null,fullyImplemented:!0,id:98,linearizedBaseContracts:[98],name:"EncryptionKeys",nodeType:"ContractDefinition",nodes:[{constant:!1,id:5,name:"ipfsInbox",nodeType:"VariableDeclaration",scope:98,src:"110:18:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage",typeString:"string[]"},typeName:{baseType:{id:3,name:"string",nodeType:"ElementaryTypeName",src:"110:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},id:4,length:null,nodeType:"ArrayTypeName",src:"110:8:0",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage_ptr",typeString:"string[]"}},value:null,visibility:"internal"},{constant:!1,id:7,name:"owner",nodeType:"VariableDeclaration",scope:98,src:"156:20:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6,name:"address",nodeType:"ElementaryTypeName",src:"156:7:0",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:!1,id:9,name:"publicKey",nodeType:"VariableDeclaration",scope:98,src:"182:24:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string"},typeName:{id:8,name:"string",nodeType:"ElementaryTypeName",src:"182:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"private"},{constant:!1,id:11,name:"privateKey",nodeType:"VariableDeclaration",scope:98,src:"212:25:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string"},typeName:{id:10,name:"string",nodeType:"ElementaryTypeName",src:"212:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"private"},{anonymous:!1,documentation:null,id:15,name:"publicKeyRetrieved",nodeType:"EventDefinition",parameters:{id:14,nodeType:"ParameterList",parameters:[{constant:!1,id:13,indexed:!1,name:"key",nodeType:"VariableDeclaration",scope:15,src:"283:10:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:12,name:"string",nodeType:"ElementaryTypeName",src:"283:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"282:12:0"},src:"258:37:0"},{anonymous:!1,documentation:null,id:19,name:"privateKeyRetrieved",nodeType:"EventDefinition",parameters:{id:18,nodeType:"ParameterList",parameters:[{constant:!1,id:17,indexed:!1,name:"key",nodeType:"VariableDeclaration",scope:19,src:"326:10:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:16,name:"string",nodeType:"ElementaryTypeName",src:"326:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"325:12:0"},src:"300:38:0"},{anonymous:!1,documentation:null,id:24,name:"getInbox",nodeType:"EventDefinition",parameters:{id:23,nodeType:"ParameterList",parameters:[{constant:!1,id:22,indexed:!1,name:"inboxArray",nodeType:"VariableDeclaration",scope:24,src:"358:19:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_string_memory_$dyn_memory_ptr",typeString:"string[]"},typeName:{baseType:{id:20,name:"string",nodeType:"ElementaryTypeName",src:"358:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},id:21,length:null,nodeType:"ArrayTypeName",src:"358:8:0",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage_ptr",typeString:"string[]"}},value:null,visibility:"internal"}],src:"357:21:0"},src:"343:36:0"},{anonymous:!1,documentation:null,id:28,name:"notAuthorized",nodeType:"EventDefinition",parameters:{id:27,nodeType:"ParameterList",parameters:[{constant:!1,id:26,indexed:!1,name:"nodeHash",nodeType:"VariableDeclaration",scope:28,src:"404:16:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:25,name:"address",nodeType:"ElementaryTypeName",src:"404:7:0",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"403:18:0"},src:"384:38:0"},{body:{id:48,nodeType:"Block",src:"518:101:0",statements:[{expression:{argumentTypes:null,id:37,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:35,name:"publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9,src:"528:9:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:36,name:"_publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30,src:"540:10:0",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},src:"528:22:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},id:38,nodeType:"ExpressionStatement",src:"528:22:0"},{expression:{argumentTypes:null,id:41,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:39,name:"privateKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:11,src:"560:10:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:40,name:"_privateKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:32,src:"573:11:0",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},src:"560:24:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},id:42,nodeType:"ExpressionStatement",src:"560:24:0"},{expression:{argumentTypes:null,id:46,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:43,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"594:5:0",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:44,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"602:3:0",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:45,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"602:10:0",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"594:18:0",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:47,nodeType:"ExpressionStatement",src:"594:18:0"}]},documentation:null,id:49,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:33,nodeType:"ParameterList",parameters:[{constant:!1,id:30,name:"_publicKey",nodeType:"VariableDeclaration",scope:49,src:"458:24:0",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:29,name:"string",nodeType:"ElementaryTypeName",src:"458:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"},{constant:!1,id:32,name:"_privateKey",nodeType:"VariableDeclaration",scope:49,src:"484:25:0",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:31,name:"string",nodeType:"ElementaryTypeName",src:"484:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"457:53:0"},returnParameters:{id:34,nodeType:"ParameterList",parameters:[],src:"518:0:0"},scope:98,src:"445:174:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:56,nodeType:"Block",src:"656:51:0",statements:[{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:53,name:"publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9,src:"690:9:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],id:52,name:"publicKeyRetrieved",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:15,src:"671:18:0",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory)"}},id:54,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"671:29:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:55,nodeType:"EmitStatement",src:"666:34:0"}]},documentation:null,id:57,implemented:!0,kind:"function",modifiers:[],name:"getPublicKey",nodeType:"FunctionDefinition",parameters:{id:50,nodeType:"ParameterList",parameters:[],src:"646:2:0"},returnParameters:{id:51,nodeType:"ParameterList",parameters:[],src:"656:0:0"},scope:98,src:"625:82:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:76,nodeType:"Block",src:"745:163:0",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:63,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:60,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"759:5:0",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:61,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"768:3:0",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:62,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"768:10:0",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"759:19:0",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:74,nodeType:"Block",src:"847:55:0",statements:[{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:70,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"880:3:0",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:71,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"880:10:0",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:69,name:"notAuthorized",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:28,src:"866:13:0",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:72,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"866:25:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:73,nodeType:"EmitStatement",src:"861:30:0"}]},id:75,nodeType:"IfStatement",src:"755:147:0",trueBody:{id:68,nodeType:"Block",src:"780:61:0",statements:[{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:65,name:"privateKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:11,src:"819:10:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],id:64,name:"privateKeyRetrieved",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:19,src:"799:19:0",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory)"}},id:66,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"799:31:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:67,nodeType:"EmitStatement",src:"794:36:0"}]}}]},documentation:null,id:77,implemented:!0,kind:"function",modifiers:[],name:"getPrivateKey",nodeType:"FunctionDefinition",parameters:{id:58,nodeType:"ParameterList",parameters:[],src:"735:2:0"},returnParameters:{id:59,nodeType:"ParameterList",parameters:[],src:"745:0:0"},scope:98,src:"713:195:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:88,nodeType:"Block",src:"965:41:0",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:85,name:"ipfsHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:79,src:"990:8:0",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],expression:{argumentTypes:null,id:82,name:"ipfsInbox",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"975:9:0",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage",typeString:"string storage ref[] storage ref"}},id:84,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"push",nodeType:"MemberAccess",referencedDeclaration:null,src:"975:14:0",typeDescriptions:{typeIdentifier:"t_function_arraypush_nonpayable$_t_string_storage_$returns$_t_uint256_$",typeString:"function (string storage ref) returns (uint256)"}},id:86,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"975:24:0",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:87,nodeType:"ExpressionStatement",src:"975:24:0"}]},documentation:null,id:89,implemented:!0,kind:"function",modifiers:[],name:"addToInbox",nodeType:"FunctionDefinition",parameters:{id:80,nodeType:"ParameterList",parameters:[{constant:!1,id:79,name:"ipfsHash",nodeType:"VariableDeclaration",scope:89,src:"934:22:0",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:78,name:"string",nodeType:"ElementaryTypeName",src:"934:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"933:24:0"},returnParameters:{id:81,nodeType:"ParameterList",parameters:[],src:"965:0:0"},scope:98,src:"914:92:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:96,nodeType:"Block",src:"1040:41:0",statements:[{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:93,name:"ipfsInbox",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"1064:9:0",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage",typeString:"string storage ref[] storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_string_storage_$dyn_storage",typeString:"string storage ref[] storage ref"}],id:92,name:"getInbox",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24,src:"1055:8:0",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_array$_t_string_memory_$dyn_memory_ptr_$returns$__$",typeString:"function (string memory[] memory)"}},id:94,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1055:19:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:95,nodeType:"EmitStatement",src:"1050:24:0"}]},documentation:null,id:97,implemented:!0,kind:"function",modifiers:[],name:"readInbox",nodeType:"FunctionDefinition",parameters:{id:90,nodeType:"ParameterList",parameters:[],src:"1030:2:0"},returnParameters:{id:91,nodeType:"ParameterList",parameters:[],src:"1040:0:0"},scope:98,src:"1012:69:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"}],scope:99,src:"61:1023:0"}],src:"1:1083:0"},legacyAST:{absolutePath:"/home/tony/work/ipfs-ethereum-demo/ipfs-ether-demo/contracts/EncryptionKeys.sol",exportedSymbols:{EncryptionKeys:[98]},id:99,nodeType:"SourceUnit",nodes:[{id:1,literals:["solidity","^","0.5",".8"],nodeType:"PragmaDirective",src:"1:23:0"},{id:2,literals:["experimental","ABIEncoderV2"],nodeType:"PragmaDirective",src:"26:33:0"},{baseContracts:[],contractDependencies:[],contractKind:"contract",documentation:null,fullyImplemented:!0,id:98,linearizedBaseContracts:[98],name:"EncryptionKeys",nodeType:"ContractDefinition",nodes:[{constant:!1,id:5,name:"ipfsInbox",nodeType:"VariableDeclaration",scope:98,src:"110:18:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage",typeString:"string[]"},typeName:{baseType:{id:3,name:"string",nodeType:"ElementaryTypeName",src:"110:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},id:4,length:null,nodeType:"ArrayTypeName",src:"110:8:0",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage_ptr",typeString:"string[]"}},value:null,visibility:"internal"},{constant:!1,id:7,name:"owner",nodeType:"VariableDeclaration",scope:98,src:"156:20:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:6,name:"address",nodeType:"ElementaryTypeName",src:"156:7:0",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:!1,id:9,name:"publicKey",nodeType:"VariableDeclaration",scope:98,src:"182:24:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string"},typeName:{id:8,name:"string",nodeType:"ElementaryTypeName",src:"182:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"private"},{constant:!1,id:11,name:"privateKey",nodeType:"VariableDeclaration",scope:98,src:"212:25:0",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string"},typeName:{id:10,name:"string",nodeType:"ElementaryTypeName",src:"212:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"private"},{anonymous:!1,documentation:null,id:15,name:"publicKeyRetrieved",nodeType:"EventDefinition",parameters:{id:14,nodeType:"ParameterList",parameters:[{constant:!1,id:13,indexed:!1,name:"key",nodeType:"VariableDeclaration",scope:15,src:"283:10:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:12,name:"string",nodeType:"ElementaryTypeName",src:"283:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"282:12:0"},src:"258:37:0"},{anonymous:!1,documentation:null,id:19,name:"privateKeyRetrieved",nodeType:"EventDefinition",parameters:{id:18,nodeType:"ParameterList",parameters:[{constant:!1,id:17,indexed:!1,name:"key",nodeType:"VariableDeclaration",scope:19,src:"326:10:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:16,name:"string",nodeType:"ElementaryTypeName",src:"326:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"325:12:0"},src:"300:38:0"},{anonymous:!1,documentation:null,id:24,name:"getInbox",nodeType:"EventDefinition",parameters:{id:23,nodeType:"ParameterList",parameters:[{constant:!1,id:22,indexed:!1,name:"inboxArray",nodeType:"VariableDeclaration",scope:24,src:"358:19:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_array$_t_string_memory_$dyn_memory_ptr",typeString:"string[]"},typeName:{baseType:{id:20,name:"string",nodeType:"ElementaryTypeName",src:"358:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},id:21,length:null,nodeType:"ArrayTypeName",src:"358:8:0",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage_ptr",typeString:"string[]"}},value:null,visibility:"internal"}],src:"357:21:0"},src:"343:36:0"},{anonymous:!1,documentation:null,id:28,name:"notAuthorized",nodeType:"EventDefinition",parameters:{id:27,nodeType:"ParameterList",parameters:[{constant:!1,id:26,indexed:!1,name:"nodeHash",nodeType:"VariableDeclaration",scope:28,src:"404:16:0",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:25,name:"address",nodeType:"ElementaryTypeName",src:"404:7:0",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"403:18:0"},src:"384:38:0"},{body:{id:48,nodeType:"Block",src:"518:101:0",statements:[{expression:{argumentTypes:null,id:37,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:35,name:"publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9,src:"528:9:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:36,name:"_publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:30,src:"540:10:0",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},src:"528:22:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},id:38,nodeType:"ExpressionStatement",src:"528:22:0"},{expression:{argumentTypes:null,id:41,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:39,name:"privateKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:11,src:"560:10:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:40,name:"_privateKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:32,src:"573:11:0",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}},src:"560:24:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}},id:42,nodeType:"ExpressionStatement",src:"560:24:0"},{expression:{argumentTypes:null,id:46,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:43,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"594:5:0",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,expression:{argumentTypes:null,id:44,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"602:3:0",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:45,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"602:10:0",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"594:18:0",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:47,nodeType:"ExpressionStatement",src:"594:18:0"}]},documentation:null,id:49,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:33,nodeType:"ParameterList",parameters:[{constant:!1,id:30,name:"_publicKey",nodeType:"VariableDeclaration",scope:49,src:"458:24:0",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:29,name:"string",nodeType:"ElementaryTypeName",src:"458:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"},{constant:!1,id:32,name:"_privateKey",nodeType:"VariableDeclaration",scope:49,src:"484:25:0",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:31,name:"string",nodeType:"ElementaryTypeName",src:"484:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"457:53:0"},returnParameters:{id:34,nodeType:"ParameterList",parameters:[],src:"518:0:0"},scope:98,src:"445:174:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:56,nodeType:"Block",src:"656:51:0",statements:[{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:53,name:"publicKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:9,src:"690:9:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],id:52,name:"publicKeyRetrieved",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:15,src:"671:18:0",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory)"}},id:54,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"671:29:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:55,nodeType:"EmitStatement",src:"666:34:0"}]},documentation:null,id:57,implemented:!0,kind:"function",modifiers:[],name:"getPublicKey",nodeType:"FunctionDefinition",parameters:{id:50,nodeType:"ParameterList",parameters:[],src:"646:2:0"},returnParameters:{id:51,nodeType:"ParameterList",parameters:[],src:"656:0:0"},scope:98,src:"625:82:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:76,nodeType:"Block",src:"745:163:0",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:63,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:60,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"759:5:0",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:61,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"768:3:0",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:62,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"768:10:0",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},src:"759:19:0",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:74,nodeType:"Block",src:"847:55:0",statements:[{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:70,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"880:3:0",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:71,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"880:10:0",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:69,name:"notAuthorized",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:28,src:"866:13:0",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:72,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"866:25:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:73,nodeType:"EmitStatement",src:"861:30:0"}]},id:75,nodeType:"IfStatement",src:"755:147:0",trueBody:{id:68,nodeType:"Block",src:"780:61:0",statements:[{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:65,name:"privateKey",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:11,src:"819:10:0",typeDescriptions:{typeIdentifier:"t_string_storage",typeString:"string storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_storage",typeString:"string storage ref"}],id:64,name:"privateKeyRetrieved",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:19,src:"799:19:0",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory)"}},id:66,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"799:31:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:67,nodeType:"EmitStatement",src:"794:36:0"}]}}]},documentation:null,id:77,implemented:!0,kind:"function",modifiers:[],name:"getPrivateKey",nodeType:"FunctionDefinition",parameters:{id:58,nodeType:"ParameterList",parameters:[],src:"735:2:0"},returnParameters:{id:59,nodeType:"ParameterList",parameters:[],src:"745:0:0"},scope:98,src:"713:195:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:88,nodeType:"Block",src:"965:41:0",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:85,name:"ipfsHash",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:79,src:"990:8:0",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_string_memory_ptr",typeString:"string memory"}],expression:{argumentTypes:null,id:82,name:"ipfsInbox",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"975:9:0",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage",typeString:"string storage ref[] storage ref"}},id:84,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"push",nodeType:"MemberAccess",referencedDeclaration:null,src:"975:14:0",typeDescriptions:{typeIdentifier:"t_function_arraypush_nonpayable$_t_string_storage_$returns$_t_uint256_$",typeString:"function (string storage ref) returns (uint256)"}},id:86,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"975:24:0",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:87,nodeType:"ExpressionStatement",src:"975:24:0"}]},documentation:null,id:89,implemented:!0,kind:"function",modifiers:[],name:"addToInbox",nodeType:"FunctionDefinition",parameters:{id:80,nodeType:"ParameterList",parameters:[{constant:!1,id:79,name:"ipfsHash",nodeType:"VariableDeclaration",scope:89,src:"934:22:0",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_string_memory_ptr",typeString:"string"},typeName:{id:78,name:"string",nodeType:"ElementaryTypeName",src:"934:6:0",typeDescriptions:{typeIdentifier:"t_string_storage_ptr",typeString:"string"}},value:null,visibility:"internal"}],src:"933:24:0"},returnParameters:{id:81,nodeType:"ParameterList",parameters:[],src:"965:0:0"},scope:98,src:"914:92:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:96,nodeType:"Block",src:"1040:41:0",statements:[{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:93,name:"ipfsInbox",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:5,src:"1064:9:0",typeDescriptions:{typeIdentifier:"t_array$_t_string_storage_$dyn_storage",typeString:"string storage ref[] storage ref"}}],expression:{argumentTypes:[{typeIdentifier:"t_array$_t_string_storage_$dyn_storage",typeString:"string storage ref[] storage ref"}],id:92,name:"getInbox",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:24,src:"1055:8:0",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_array$_t_string_memory_$dyn_memory_ptr_$returns$__$",typeString:"function (string memory[] memory)"}},id:94,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1055:19:0",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:95,nodeType:"EmitStatement",src:"1050:24:0"}]},documentation:null,id:97,implemented:!0,kind:"function",modifiers:[],name:"readInbox",nodeType:"FunctionDefinition",parameters:{id:90,nodeType:"ParameterList",parameters:[],src:"1030:2:0"},returnParameters:{id:91,nodeType:"ParameterList",parameters:[],src:"1040:0:0"},scope:98,src:"1012:69:0",stateMutability:"nonpayable",superFunction:null,visibility:"public"}],scope:99,src:"61:1023:0"}],src:"1:1083:0"},compiler:{name:"solc",version:"0.5.8+commit.23d335f2.Emscripten.clang"},networks:{1573936021742:{events:{"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"encryptionRetrieved",type:"event",signature:"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259"},"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"decryptionRetrieved",type:"event",signature:"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0xF45aFaDbd29c19f3d8496D2742db3D3Fae610493",transactionHash:"0xe2f4336b2169ce67692d0f0a57dd8b2e65e317df32e3b5ff2d46409adc17de05"},1573937388132:{events:{"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"encryptionRetrieved",type:"event",signature:"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259"},"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"decryptionRetrieved",type:"event",signature:"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0x2869FD6C1346dA6E09294F980873a9A6b034CB44",transactionHash:"0x60f205ee3a46a12f756e4350f192f8316a91628314986c0b5dd672d1d6973d98"},1574010099230:{events:{"0x2ff7382b63993072dc43e07fdc5f78cc1f6385e98ee28f84589db65a34a73bf7":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"bytes"}],name:"encryptionRetrieved",type:"event",signature:"0x2ff7382b63993072dc43e07fdc5f78cc1f6385e98ee28f84589db65a34a73bf7"},"0x7bc83ad033337250ee69845a2dd026552a664a4b100b7d1979645f4d35348385":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"bytes"}],name:"decryptionRetrieved",type:"event",signature:"0x7bc83ad033337250ee69845a2dd026552a664a4b100b7d1979645f4d35348385"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0xD2aCC228aa6b06BaD34f1C4f6F9c2F366da88bbD",transactionHash:"0x23b085241c53683613e634514a5db2bdb4ecea66b4398ff7e22a5a492424b008"},1574571164603:{events:{"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"encryptionRetrieved",type:"event",signature:"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259"},"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"decryptionRetrieved",type:"event",signature:"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0xb9546D92300aC44b02B98696c3A66B3db8255614",transactionHash:"0x11aee249a27c7f0578c6cfee1eee70a7991cf4174417399bff69ebe43fdec374"},1574608872506:{events:{"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"encryptionRetrieved",type:"event",signature:"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259"},"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"decryptionRetrieved",type:"event",signature:"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0xB18106E084611e0D1B708bA691F98146132757a8",transactionHash:"0x73fe2abca4a0ebbc377dee9fd831e0d816b2055aaa58edea22cb6735799f8b37"},1574610896361:{events:{"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"encryptionRetrieved",type:"event",signature:"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259"},"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"decryptionRetrieved",type:"event",signature:"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0xaf183a0b91AA2140977a310671c45AF8a9e9043e",transactionHash:"0x04ef15f55bb267e1eebc1ade5223694a7acef2c69302224ca0cc532c750437f7"},1574646895357:{events:{"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"encryptionRetrieved",type:"event",signature:"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259"},"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"decryptionRetrieved",type:"event",signature:"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0xCc3D69e5606eadadAd987C52BD83c2D7c8336D45",transactionHash:"0x4741615755bdd62d769837af933152e27dcc9616337e99579a5e36c58bd029d7"},1574738727412:{events:{"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"encryptionRetrieved",type:"event",signature:"0x16683e1137eb79f9a2541720301a6202285b1c1d1bf8ad59e29efb0baf3b5259"},"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"decryptionRetrieved",type:"event",signature:"0xaf015dde69a5a9d4afcac454c8acb10375bedee7d774d93e7b8358fbb9db248d"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0xC8cA55e9Af3BC4A6480551D1863eE45F6675f5c7",transactionHash:"0x45d5f0332a8b9d80356c8b001f2775a5151b1ecfc61613264105c0c6b11697f4"},1574988914340:{events:{"0x9ef7a316a8936b6ced635b4e03c0e449091528b82956eb61bed11c74027b7cb5":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"publicKeyRetrieved",type:"event",signature:"0x9ef7a316a8936b6ced635b4e03c0e449091528b82956eb61bed11c74027b7cb5"},"0xed37b7ef047c597254ab115cd0d400209290e2af8fa2ec4830e394e9383e5ca2":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"privateKeyRetrieved",type:"event",signature:"0xed37b7ef047c597254ab115cd0d400209290e2af8fa2ec4830e394e9383e5ca2"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0x3859BAf29B308bA1cE114e063e4D18050B9b1F94",transactionHash:"0x1b1a7c66ae81abfc19306492c9aa4f46199826eb931c5ff90c17a246f45b6f9a"},1575043762667:{events:{"0x9ef7a316a8936b6ced635b4e03c0e449091528b82956eb61bed11c74027b7cb5":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"publicKeyRetrieved",type:"event",signature:"0x9ef7a316a8936b6ced635b4e03c0e449091528b82956eb61bed11c74027b7cb5"},"0xed37b7ef047c597254ab115cd0d400209290e2af8fa2ec4830e394e9383e5ca2":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"privateKeyRetrieved",type:"event",signature:"0xed37b7ef047c597254ab115cd0d400209290e2af8fa2ec4830e394e9383e5ca2"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0x4b52F3D093616E7c32C4dbc693D55f5382B1f816",transactionHash:"0x07e69ca901ed847afdccdc245c723c5d63d8a5842c85f38d1f40cc89338e771a"},1575258308035:{events:{"0x9ef7a316a8936b6ced635b4e03c0e449091528b82956eb61bed11c74027b7cb5":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"publicKeyRetrieved",type:"event",signature:"0x9ef7a316a8936b6ced635b4e03c0e449091528b82956eb61bed11c74027b7cb5"},"0xed37b7ef047c597254ab115cd0d400209290e2af8fa2ec4830e394e9383e5ca2":{anonymous:!1,inputs:[{indexed:!1,name:"key",type:"string"}],name:"privateKeyRetrieved",type:"event",signature:"0xed37b7ef047c597254ab115cd0d400209290e2af8fa2ec4830e394e9383e5ca2"},"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d":{anonymous:!1,inputs:[{indexed:!1,name:"nodeHash",type:"address"}],name:"notAuthorized",type:"event",signature:"0x3e93efda8ef94bc9822a328ee48b0e2490c0599d524d49fb8171e172c30e3b5d"}},links:{},address:"0x579377C9F89FD337E8c773993F027f0033cEd54c",transactionHash:"0x2a377b6bb512d95dbe55d65a68ed126dcf343b64775f83548eb56f3e138a8d3b"}},schemaVersion:"3.0.17",updatedAt:"2019-12-11T03:50:36.347Z",devdoc:{methods:{}},userdoc:{methods:{}}}},19:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return o});var a={UPLOAD:"UPLOAD",INBOX:"INBOX",CONTRACTS:"CONTRACTS",ALIAS:"ALIAS",PEERS:"PEERS"},r="/iris-content-directory/";function i(e){return r+e+"/usr/"}function s(e){return r+e+"/contract/"}function c(e){return r+e+"/uploads/"}function o(e){return r+e+"/inbox/"}},216:function(e,t){},29:function(e,t,n){"use strict";var a,r=n(296),i=n(5),s=n.n(i),c=n(12),o=new(n(585))({host:"ec2-3-84-45-253.compute-1.amazonaws.com",port:5001,protocol:"http"});n(1039);n.d(t,"a",function(){return d});var d=(a={createDirectory:function(){var e=Object(c.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.files.mkdir(t,{parents:!0},function(e,n){e?console.log("Failed to create directory "+t,e):console.log("Created directory "+t,n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),readDirectory:function(){var e=Object(c.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,o.files.ls(t,function(e,t){n(e,t)});case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,o.files.ls(t);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),deleteDirectory:function(){var e=Object(c.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.files.rm(t,{recursive:!0},function(e,n){e?console.log("Failed to delete directory",e):console.log("Deleted directory "+t+"successfully.")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),addFile:function(){var e=Object(c.a)(s.a.mark(function e(t,n,a,r){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.files.write(t+a,n,{create:!0},function(e,t){r(e,t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),getContractAddress:function(){var e=Object(c.a)(s.a.mark(function e(t,n){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/content/"+t+"/contract/contract.txt",e.next=3,o.files.read(a,function(e,t){n(e,t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),readFile:function(){var e=Object(c.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.files.read(t,function(e,t){return n(e,t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},Object(r.a)(a,"readFile",function(){var e=Object(c.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.files.read(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object(r.a)(a,"deleteFile",function(){var e=Object(c.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.files.rm(t,function(e,t){return n(e,t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),a)},297:function(e,t,n){"use strict";(function(e){var a=n(5),r=n.n(a),i=n(12),s=n(40),c=n(41),o=n(43),d=n(42),l=n(44),p=n(0),u=n.n(p),f=n(29),y=n(18),b=(n(1336),n(19)),m=function(t){function n(e){var t;return Object(s.a)(this,n),(t=Object(o.a)(this,Object(d.a)(n).call(this,e))).state={creatingAlias:!1},t}return Object(l.a)(n,t),Object(c.a)(n,[{key:"setAlias",value:function(e){this.setState({alias:e.target.value})}},{key:"createAliasBox",value:function(){this.setState({creatingAlias:!0})}},{key:"generateAlias",value:function(){var t=Object(i.a)(r.a.mark(function t(){var n,a,i,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(b.a)(this.props.user.account),a=Object(b.c)(this.props.user.account),i=Object(b.d)(this.props.user.account),t.next=5,f.a.createDirectory(n);case 5:return t.next=7,f.a.createDirectory(a);case 7:return t.next=9,f.a.createDirectory(i);case 9:return s="alias="+this.state.alias,t.next=12,f.a.addFile(n,e.from(s),"data.txt",function(e,t){});case 12:this.props.aliasHandler(this.state.alias);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.user?u.a.createElement("div",{className:"generate-alias-container"},u.a.createElement(y.b,{condition:""===this.props.user.alias},u.a.createElement("div",{className:"btn-container"},u.a.createElement("div",{className:"alias-container"},u.a.createElement(y.b,{condition:!1===this.state.creatingAlias},u.a.createElement("button",{className:"btn generate-keys-btn",onClick:this.createAliasBox.bind(this)},"Create Alias"),u.a.createElement(y.a,null,u.a.createElement("p",null,"Create alias for account"),u.a.createElement("input",{className:"alias-input-box",type:"textbox",placeholder:"alias",onChange:this.setAlias.bind(this)}),u.a.createElement("button",{onClick:this.generateAlias.bind(this)},"Submit"))))))):u.a.createElement("div",null,"Loading...?")}}]),n}(u.a.Component);t.a=m}).call(this,n(3).Buffer)},298:function(e,t,n){"use strict";(function(e){var a=n(5),r=n.n(a),i=n(12),s=n(40),c=n(41),o=n(43),d=n(42),l=n(44),p=n(0),u=n.n(p),f=n(29),y=n(18),b=n(144),m=n(91),g=n(1389),h=n(1349),v=n(1401),_=n(1404),x=n(1400),E=n(563),T=n(1403),D=n(1390),S=n(1391),I=n(1392),w=n(50),k=n(49),O=n(53),N=n(75),C=(n(1338),n(300)),A=n(31),j=n.n(A),V=n(19),P=function(t){function n(t){var a;return Object(s.a)(this,n),(a=Object(o.a)(this,Object(d.a)(n).call(this,t))).files=[],a.uploadSelectTypes=[{label:"",selector:""}],a.convertToBuffer=function(){var t=Object(i.a)(r.a.mark(function t(n){var i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e.from(n.result),a.setState({buffer:i});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.state={recipientEthereumAccount:"",recipientContractAddress:"",accountSelected:!1,enableEncryption:!1,dropdownOpen:!1,showAlert:!1,modal:!1,uploading:!1,uploadQueue:[]},O.a.subscribe(function(){a.setState({uploadQueue:O.a.getState().uploadQueue})}),a}return Object(l.a)(n,t),Object(c.a)(n,[{key:"captureFile",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a,i=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),t.preventDefault(),e.next=4,t.target.files[0];case 4:n=e.sent,this.setState({uploadingFile:!0,file:n}),(a=new window.FileReader).readAsArrayBuffer(n),a.onloadend=function(){i.convertToBuffer(a)},this.setState({uploadFileName:n.name,uploadingFile:!1});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onIPFSSubmit",value:function(){var t=Object(i.a)(r.a.mark(function t(n){var a,i,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.preventDefault(),this.setState({uploading:!0}),a=e.from(this.state.buffer),i=Object(V.d)(this.props.user.account),!this.state.enableEncryption){t.next=12;break}return s={startTime:(new Date).getTime(),filename:this.state.uploadFileName,recipient:this.state.recipientEthereumAddress},O.a.dispatch(Object(N.a)(s)),t.next=9,this.getEncryptedFile();case 9:a=t.sent,O.a.dispatch(Object(N.c)(s)),i=Object(V.c)(this.state.recipientEthereumAddress)+this.props.user.account+"/";case 12:return t.next=15,f.a.createDirectory(i);case 15:return t.next=17,this.addFile(i,e.from(a));case 17:this.showAlert(),this.setState({accountSelected:!1,file:null,uploading:!1});case 19:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getEncryptedFile",value:function(){var e=Object(i.a)(r.a.mark(function e(){var t,n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.recipientContractAddress,n=this.props.user.contract,""===t||""===n){e.next=10;break}return e.next=5,m.a.createSharedKey(this.props.web3,this.props.user.account,this.state.recipientEthereumAddress,n,t);case 5:return a=e.sent,i=b.a.encrypt(a,this.state.buffer),e.abrupt("return",i);case 10:alert("Could not find a public/private keys for the specified account");case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addFile",value:function(){var e=Object(i.a)(r.a.mark(function e(t,n){var a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.addFile(t,n,this.state.uploadFileName,function(e,t){e?console.log(e):(console.log(t),a.setState({recipientContractAddress:""}))});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRecipient",value:function(e){var t=e.target.value;this.setState({recipientEthereumAddress:t}),this.state.accountSelected&&this.setState({accountSelected:!1})}},{key:"verifyRecipient",value:function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(n=t.target.value)){e.next=8;break}return this.setState({recipientEthereumAddress:n,accountSelected:""!==n}),a=Object(V.b)(n)+"contract.txt",e.next=6,f.a.readFile(a);case 6:(i=e.sent)?(this.setState({verified:!0}),this.setState({recipientContractAddress:i.toString()})):this.setState({verified:!1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"toggleDropdown",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"onToggleEncryption",value:function(){this.setState({enableEncryption:!0})}},{key:"clearFile",value:function(){this.setState({file:null,enableEncryption:!1,accountSelected:!1})}},{key:"showAlert",value:function(){this.setState({showAlert:!0}),setTimeout(function(){this.setState({showAlert:!1})}.bind(this),5e3)}},{key:"showModal",value:function(){var e=this.state.modal;this.setState({modal:!e})}},{key:"onConfirm",value:function(){this.setState({modal:!1,file:null,accountSelected:!1,enableEncryption:!1}),this.onIPFSSubmit()}},{key:"onCancel",value:function(){this.setState({modal:!1})}},{key:"render",value:function(){return this.toggleDropdown=this.toggleDropdown.bind(this),this.clearFile=this.clearFile.bind(this),this.showModal=this.showModal.bind(this),u.a.createElement("div",{className:"upload-container"},u.a.createElement(y.b,{condition:this.state.uploadQueue.length>0},u.a.createElement(C.a,{uploadQueueItems:this.state.uploadQueue})),u.a.createElement("div",{className:"send-message-container"},u.a.createElement("div",{className:"upload-type-selector"},u.a.createElement(y.b,{condition:!0===this.state.enableEncryption},u.a.createElement(k.a,{icon:w.j})),u.a.createElement("p",null,"Upload Files"),u.a.createElement(g.a,{className:"upload-alert",color:"info",isOpen:this.state.showAlert},"File uploaded successfully")),u.a.createElement(y.b,{condition:!this.state.file},u.a.createElement("div",{className:"file-selector"},u.a.createElement("input",{type:"file",onChange:this.captureFile.bind(this)})),u.a.createElement(y.a,null,u.a.createElement(y.a,null,u.a.createElement("div",{className:"upload-selection-container"},u.a.createElement("div",null,u.a.createElement("span",null,this.state.uploadFileName),u.a.createElement(h.a,{className:"clear-btn",color:"danger",onClick:this.clearFile},"Clear")),u.a.createElement(y.b,{condition:!1===this.state.enableEncryption},u.a.createElement(v.a,{className:"button-dropdown",isOpen:this.state.dropdownOpen,toggle:this.toggleDropdown},u.a.createElement(_.a,{color:"info",disabled:!0===this.state.accountSelected},"Upload"),u.a.createElement(x.a,null,u.a.createElement(E.a,{name:"upload",onClick:this.onIPFSSubmit.bind(this)},"Upload"),u.a.createElement(E.a,{name:"encrypt",disabled:""===this.props.contractAddress,onClick:this.onToggleEncryption.bind(this)},"Encrypted Upload"))))),u.a.createElement("div",{className:"upload-container"},u.a.createElement(y.b,{condition:!0===this.state.enableEncryption},u.a.createElement("div",null,u.a.createElement("label",{for:"ethereum-account-selector"},"Select recipient ethereum account"),u.a.createElement("input",{name:"ethereum-account-selector",type:"text",placeholder:"0x...",onChange:this.verifyRecipient.bind(this)}),u.a.createElement(y.b,{condition:!this.state.verified},u.a.createElement("div",{className:"not-verified"},u.a.createElement(y.b,{condition:!this.state.accountSelected},u.a.createElement("p",null,"Select an ethereum account"),u.a.createElement(y.a,null,u.a.createElement(k.a,{icon:w.g}),u.a.createElement("p",null,"Not a valid account.")))),u.a.createElement(y.a,null,u.a.createElement("div",{className:"verified"},u.a.createElement(h.a,{color:"success",onClick:this.showModal},"Go"),u.a.createElement(T.a,{isOpen:this.state.modal,fade:!1,toggle:this.showModal,className:"modal-container"},u.a.createElement(D.a,{toggle:this.showModal},"Encrypt file."),u.a.createElement(S.a,null,"You are about to encrypt this file. This will cost ethereum in order to retrieve your encryption keys. Do you wish to proceed?"),u.a.createElement(I.a,{className:"modal-footer-container"},u.a.createElement(h.a,{className:"confirm action-button",onClick:this.onConfirm.bind(this),color:"success"},"Confirm"),u.a.createElement(h.a,{className:"cancel action-button",onClick:this.onCancel.bind(this),color:"danger"},"Cancel"))))))))))))))}}]),n}(u.a.Component);j.a.render(u.a.createElement(C.a,null),document.getElementById("root")),t.a=P}).call(this,n(3).Buffer)},300:function(e,t,n){"use strict";var a=n(40),r=n(41),i=n(43),s=n(42),c=n(44),o=n(0),d=n.n(o),l=n(18),p=n(1385),u=n(1388),f=n(1402),y=n(1383),b=n(1386),m=n(1387),g=n(1384),h=(n(1340),function(e){function t(e){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.uploadQueueItems?d.a.createElement("div",{className:"upload-queue-container"},d.a.createElement("div",{className:"upload-queue-container-header"},"Upload Queue"),d.a.createElement(l.b,{condition:0===this.props.uploadQueueItems.length},d.a.createElement("div",null,"No items in queue"),d.a.createElement(l.a,null,d.a.createElement("div",{className:"upload-queue-container-body"},d.a.createElement(y.a,{component:g.a,className:"upload-queue-table-container"},d.a.createElement(p.a,{className:"upload-queue-table","aria-label":"Inbox"},d.a.createElement(b.a,null,d.a.createElement(m.a,null,d.a.createElement(f.a,null,"Filename"),d.a.createElement(f.a,null,"Recipient"))),d.a.createElement(u.a,null,this.props.uploadQueueItems.map(function(e,t){return d.a.createElement(m.a,{key:t},d.a.createElement(f.a,null,e.filename),d.a.createElement(f.a,null,d.a.createElement("span",{className:"item-recipient-container"},e.recipient)))})))))))):d.a.createElement("div",null)}}]),t}(o.Component));t.a=h},303:function(e,t,n){e.exports=n.p+"static/media/lock_icon.ba2cf6d5.jpg"},53:function(e,t,n){"use strict";var a=n(205),r=n(95),i={user:{alias:"",contract:"",accounts:[],account:""},uploadQueue:[]};var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type==r.b?Object.assign({},e,{user:t.payload}):t.type==r.a?Object.assign({},e,{uploadQueue:e.uploadQueue.concat(t.payload)}):t.type==r.c?Object.assign({},e,{uploadQueue:e.uploadQueue.filter(function(e){return!function(e,t){return e.startTime===t.startTime&&e.filename===t.filename&&e.recipient===t.recipient}(e,t.payload)})}):e},c=Object(a.b)(s);t.a=c},556:function(e,t,n){"use strict";(function(e){var a=n(5),r=n.n(a),i=n(12),s=n(40),c=n(41),o=n(43),d=n(42),l=n(44),p=n(0),u=n.n(p),f=n(91),y=n(144),b=n(29),m=n(45),g=n(19),h=n(18),v=(n(1334),function(t){function n(t){var a;return Object(s.a)(this,n),(a=Object(o.a)(this,Object(d.a)(n).call(this,t))).generateKeys=Object(i.a)(r.a.mark(function t(){var n,i,s,c,o,d,l,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.generateKeyPair();case 2:return n=t.sent,i=n.publicKey,s=n.secretKey,a.setState({keysGenerated:!0}),c=Object(m.encodeBase64)(i),o=Object(m.encodeBase64)(s),t.next=10,f.a.deployContract(1e4,a.props.web3,c,o,a.props.ethereumAccountId);case 10:return d=t.sent,l=d.address,a.props.action(l),a.setState({contractAddress:l}),p=Object(g.b)(a.props.user.account),b.a.createDirectory(p),t.next=18,b.a.addFile(p,e.from(l),"contract.txt",function(e,t){});case 18:case"end":return t.stop()}},t)})),a.state={ethereumAccountId:t.ethereumAccountId,alias:"",contractAddress:""},a}return Object(l.a)(n,t),Object(c.a)(n,[{key:"render",value:function(){return u.a.createElement("div",{className:"generate-keys-container"},u.a.createElement(h.b,{condition:""!==this.props.ethereumAccountId},u.a.createElement(h.b,{condition:""===this.state.contractAddress},u.a.createElement("div",{className:"keys-container"},u.a.createElement("p",null,"Generate encryption keys to allow you to send encrypted files. This will cost ethereum."),u.a.createElement("button",{className:"btn generate-keys-btn",onClick:this.generateKeys.bind(this)},"Generate Keys")))))}}]),n}(u.a.Component));t.a=v}).call(this,n(3).Buffer)},557:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(5),r=n.n(a),i=n(12),s=n(33),c=n(45),o={newNonce:function(){return Object(s.randomBytes)(s.box.nonceLength)},generateKeyPair:function(){return s.box.keyPair()},encrypt:function(e,t,n){var a=this.newNonce(),r=Object(c.decodeUTF8)(JSON.stringify(t)),i=n?Object(s.box)(r,a,n,e):s.box.after(r,a,e),o=new Uint8Array(a.length+i.length);return o.set(a),o.set(i,a.length),Object(c.encodeBase64)(o)},decrypt:function(e,t,n){var a=Object(c.decodeBase64)(t),r=a.slice(0,s.box.nonceLength),i=a.slice(s.box.nonceLength,t.length),o=n?s.box.open(i,r,n,e):s.box.open.after(i,r,e);if(!o)throw new Error("Could not decrypt message.");var d=Object(c.encodeUTF8)(o);return JSON.parse(d)},createSharedKeyEncryption:function(){var e=Object(i.a)(r.a.mark(function e(t,n,a,i){var o,d,l,p,u,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContract(a);case 2:return o=e.sent,e.next=5,o.getPrivateKey({from:t});case 5:return d=e.sent,e.next=8,this.getContract(i);case 8:return l=e.sent,e.next=11,l.getPublicKey({from:n});case 11:return p=e.sent,u=Object(c.decodeBase64)(p.logs[0].args[0]),f=Object(c.decodeBase64)(d.logs[0].args[0]),e.abrupt("return",s.box.before(u,f));case 15:case"end":return e.stop()}},e,this)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),createSharedDecryptionKey:function(){var e=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Not yet implemented");case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}},572:function(e,t,n){e.exports=n(1382)},581:function(e,t,n){},652:function(e,t){},671:function(e,t){},683:function(e,t){},685:function(e,t){},722:function(e,t){},724:function(e,t){},731:function(e,t){},735:function(e,t){},737:function(e,t){},743:function(e,t){},745:function(e,t){},75:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s});var a=n(95);function r(e){return{type:a.b,payload:e}}function i(e){return{type:a.a,payload:e}}function s(e){return{type:a.c,payload:e}}},759:function(e,t){},761:function(e,t){},782:function(e,t){},784:function(e,t){},796:function(e,t){},798:function(e,t){},885:function(e,t){},887:function(e,t){},893:function(e,t){},894:function(e,t){},91:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return y});var a=n(5),r=n.n(a),i=n(12),s=n(557),c=n(173),o=n.n(c),d=n(174),l=n(29),p=n(33),u=n(45),f=n(19),y={deployContract:function(){var e=Object(i.a)(r.a.mark(function e(t,n,a,i){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s=o()(d)).setProvider(t.currentProvider),e.abrupt("return",s.new(n,a,{from:i}));case 3:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),getContractByAddress:function(){var e=Object(i.a)(r.a.mark(function e(t,n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=o()(d)).setProvider(t.currentProvider),e.next=4,a.at(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),generateKeys:function(){var t=Object(i.a)(r.a.mark(function t(n,a){var i,c,o,d,p,y,b,m;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.generateKeyPair();case 2:return i=t.sent,c=i.publicKey,o=i.secretKey,d=Object(u.encodeBase64)(c),p=Object(u.encodeBase64)(o),t.next=9,this.deployContract(n,d,p,a);case 9:return y=t.sent,b=y.address,m=Object(f.b)(a),l.a.createDirectory(m),t.next=15,l.a.addFile(m,e.from(b),"contract.txt",function(e,t){console.log(JSON.stringify(t))});case 15:return t.abrupt("return",b);case 16:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),createSharedKey:function(){var e=Object(i.a)(r.a.mark(function e(t,n,a,i,s){var c,o,d,l,f,y;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContract(t,i);case 2:return c=e.sent,e.next=5,c.getPrivateKey({from:n});case 5:return o=e.sent,e.next=8,this.getContract(t,s);case 8:return d=e.sent,e.next=11,d.getPublicKey({from:a});case 11:return l=e.sent,f=Object(u.decodeBase64)(l.logs[0].args[0]),y=Object(u.decodeBase64)(o.logs[0].args[0]),e.abrupt("return",p.box.before(f,y));case 15:case"end":return e.stop()}},e,this)}));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),getContract:function(){var e=Object(i.a)(r.a.mark(function e(t,n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=o()(d)).setProvider(t.currentProvider),e.next=4,a.at(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}}).call(this,n(3).Buffer)},95:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i});var a="LOAD_USER",r="ADD_TO_QUEUE",i="REMOVE_FROM_QUEUE"}},[[572,2,1]]]);
//# sourceMappingURL=main.29ccc9ec.chunk.js.map